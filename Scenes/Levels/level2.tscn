[gd_scene load_steps=16 format=4 uid="uid://0827xqca2ki0"]

[ext_resource type="TileSet" uid="uid://pqkqv44ukoj6" path="res://Assets/Tilesets/Background.tres" id="1_pyd1a"]
[ext_resource type="TileSet" uid="uid://bemgd3w7oa23h" path="res://Assets/Tilesets/Platform.tres" id="2_o7bax"]
[ext_resource type="TileSet" uid="uid://m5rkg0o30k4y" path="res://Assets/Tilesets/Effectors.tres" id="3_flysx"]
[ext_resource type="TileSet" uid="uid://dr2h5xnel4dks" path="res://Assets/Tilesets/Ladder.tres" id="4_0jhw5"]
[ext_resource type="TileSet" uid="uid://cqu5e3jgxli3s" path="res://Assets/Tilesets/Decorations.tres" id="5_eqosv"]
[ext_resource type="TileSet" uid="uid://bleedx7bujs2p" path="res://Assets/Tilesets/Dangers.tres" id="6_6a7cf"]
[ext_resource type="PackedScene" uid="uid://bo0pwsa6hw5ue" path="res://Scenes/GameObjects/player.tscn" id="7_hpjhc"]
[ext_resource type="Script" uid="uid://bd046eokvcnu2" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="8_56d2c"]
[ext_resource type="Script" uid="uid://bhexx6mj1xv3q" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2d.gd" id="9_jywle"]
[ext_resource type="Script" uid="uid://8umksf8e80fw" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="10_l1hk4"]
[ext_resource type="PackedScene" uid="uid://sejn5li676gi" path="res://Scenes/Menus/game_menu.tscn" id="11_b2fon"]
[ext_resource type="PackedScene" uid="uid://b0t6jyejvuoum" path="res://Scenes/GameObjects/collectible1.tscn" id="12_o7bax"]

[sub_resource type="Resource" id="Resource_d1mwp"]
script = ExtResource("10_l1hk4")
duration = 0.5

[sub_resource type="Resource" id="Resource_rqhku"]
script = ExtResource("10_l1hk4")
duration = 5.0
transition = 5
metadata/_custom_type_script = "uid://8umksf8e80fw"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rqhku"]
size = Vector2(39, 63.5)

[node name="level2" type="Node2D"]

[node name="TilemapLayers" type="Node" parent="."]

[node name="Parallax2D" type="Parallax2D" parent="TilemapLayers"]
scroll_scale = Vector2(0.8, 0.8)
scroll_offset = Vector2(-100, 100)

[node name="BackgroundLayer" type="TileMapLayer" parent="TilemapLayers/Parallax2D"]
tile_set = ExtResource("1_pyd1a")

[node name="PlatformLayer" type="TileMapLayer" parent="TilemapLayers"]
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAABAAAAEAAAAIAAYAAAAAAAIAAAAAAAYAABAAAAMAAAAEAAIAAAAAAAQAAAAEAAIAAAAAAAUAAAAEAAIAAAAAAAYAAAAEAAIAAAAAAAcAAAAEAAIAAAACAAAAAAAAAAAAAAACAAEAAAAAAAIAAAACAAIAAAAAAAYAAAACAAMAAAAEAAIAAAACAAQAAAAEAAIAAAACAAUAAAAEAAIAAAACAAYAAAAEAAIAAAACAAcAAAAEAAIAAAD//wAAAAACAAAAAAD+/wAAAAACAAAAAAD9/wAAAAACAAAAAAD8/wAAAAACAAAAAAD7/wAAAAACAAAAAAD6/wAAAAACAAAAAAD5/wAAAAACAAAAAAD4/wAAAAACAAAAAAADAAAAAAACAAAAAAAEAAAAAAACAAAAAAAFAAAAAAACAAAAAAAGAAAAAAACAAAAAAAHAAAAAAACAAAAAAAIAAAAAAACAAAAAAAJAAAAAAACAAAAAAAKAAAAAAACAAAAAAALAAAAAAACAAAAAAAMAAAAAAACAAAAAAANAAAAAAACAAAAAAAOAAAAAAACAAAAAAAPAAAAAAAAAAgAABD3/wAAAAACAAAAAAD2/wAAAAACAAAAAAD1/wAAAAACAAAAAAD0/wAAAAACAAAAAADz/wAAAAAAAAgAAADz////AAAEAAIAAADz//7/AAAEAAIAAADz//3/AAAEAAIAAADz//z/AAAEAAIAAADz//v/AAAEAAIAAADz//r/AAAEAAIAAADz//n/AAAEAAIAAADz//j/AAAEAAIAAADz//f/AAAEAAIAAADz//b/AAAEAAIAAADz//X/AAAEAAAAAAAPAP//AAAEAAIAAAAPAP7/AAAEAAIAAAAPAP3/AAAEAAIAAAAPAPz/AAAEAAIAAAAPAPv/AAAEAAIAAAAPAPr/AAAEAAIAAAAPAPn/AAAEAAIAAAAPAPj/AAAEAAIAAAAPAPf/AAAEAAIAAAAPAPb/AAAEAAIAAAAPAPX/AAAEAAAAAAAAAAgAAAAEAAIAAAAAAAkAAAAEAAIAAAAAAAoAAAAEAAIAAAAAAAsAAAAEAAIAAAAAAAwAAAAEAAQAAAACAAgAAAAEAAIAAAACAAkAAAAEAAIAAAACAAoAAAAEAAIAAAACAAsAAAAEAAIAAAACAAwAAAAEAAQAAAD//wEAAAACAAIAAAD+/wEAAAACAAIAAAD9/wEAAAACAAIAAAD8/wEAAAACAAIAAAD7/wEAAAACAAIAAAD6/wEAAAACAAIAAAD5/wEAAAACAAIAAAD4/wEAAAACAAIAAAD3/wEAAAACAAIAAAD2/wEAAAACAAIAAAD1/wEAAAACAAIAAAD0/wEAAAACAAIAAADz/wEAAAAAAAIAAADz/wIAAAAAAAQAAAD//wIAAAACAAQAAAD+/wIAAAACAAQAAAD9/wIAAAACAAQAAAD8/wIAAAACAAQAAAD7/wIAAAACAAQAAAD6/wIAAAACAAQAAAD5/wIAAAACAAQAAAD4/wIAAAACAAQAAAD3/wIAAAACAAQAAAD2/wIAAAACAAQAAAD1/wIAAAACAAQAAAD0/wIAAAACAAQAAAAPAAIAAAAAAAQAABAPAAEAAAAIAAYAAAAOAAEAAAACAAIAAAANAAEAAAACAAIAAAAMAAEAAAACAAIAAAALAAEAAAACAAIAAAAKAAEAAAACAAIAAAAJAAEAAAACAAIAAAAIAAEAAAACAAIAAAAHAAEAAAACAAIAAAAGAAEAAAACAAIAAAAFAAEAAAACAAIAAAAEAAEAAAACAAIAAAADAAEAAAACAAIAAAADAAIAAAACAAQAAAANAAIAAAACAAQAAAAOAAIAAAACAAQAAAAMAAIAAAACAAQAAAALAAIAAAACAAQAAAAKAAIAAAACAAQAAAAJAAIAAAACAAQAAAAIAAIAAAACAAQAAAAHAAIAAAACAAQAAAAGAAIAAAACAAQAAAAFAAIAAAACAAQAAAAEAAIAAAACAAQAAAA=")
tile_set = ExtResource("2_o7bax")

[node name="BounceLayer" type="TileMapLayer" parent="TilemapLayers"]
tile_set = ExtResource("3_flysx")

[node name="LadderLayer" type="TileMapLayer" parent="TilemapLayers"]
tile_map_data = PackedByteArray("AAABAAcAAgAAAAAAAAABAAYAAgAAAAAAAAABAAUAAgAAAAAAAAABAAQAAgAAAAAAAAABAAMAAgAAAAAAAAABAAIAAgAAAAAAAAABAAEAAgAAAAAAAAABAAAAAgACAAAAAAABAAgAAgAAAAAAAAABAAkAAgAAAAAAAAABAAoAAgAAAAAAAAABAAsAAgAAAAAAAAABAAwAAgAAAAAAAAA=")
tile_set = ExtResource("4_0jhw5")

[node name="DecorationsLayer" type="TileMapLayer" parent="TilemapLayers"]
tile_set = ExtResource("5_eqosv")

[node name="SpikesLayer" type="TileMapLayer" parent="TilemapLayers"]
tile_map_data = PackedByteArray("AAD9////AAAAAAAAAAA=")
tile_set = ExtResource("6_6a7cf")

[node name="Player" parent="." node_paths=PackedStringArray("nextSpawn", "previousSpawn", "deathSpawn", "idleCamera", "zoomCamera") instance=ExtResource("7_hpjhc")]
position = Vector2(52, -85)
nextSpawn = NodePath("../Spawns/NextSpawn")
previousSpawn = NodePath("../Spawns/PreviousSpawn")
deathSpawn = NodePath("../Spawns/DeathSpawn")
idleCamera = NodePath("../Cameras/IdleCamera")
zoomCamera = NodePath("../Cameras/ZoomOutCamera")

[node name="Cameras" type="Node" parent="."]

[node name="Camera2D" type="Camera2D" parent="Cameras"]
physics_interpolation_mode = 1
position = Vector2(52, -109)
zoom = Vector2(3, 3)
process_callback = 0
limit_left = -401
limit_top = -327
limit_right = 497
limit_bottom = 71
editor_draw_limits = true

[node name="PhantomCameraHost" type="Node" parent="Cameras/Camera2D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("8_56d2c")

[node name="AudioListener2D" type="AudioListener2D" parent="Cameras/Camera2D"]
current = true

[node name="NormalCamera" type="Node2D" parent="Cameras" node_paths=PackedStringArray("follow_target")]
top_level = true
position = Vector2(52, -109)
script = ExtResource("9_jywle")
priority = 1
follow_mode = 5
follow_target = NodePath("../../Player")
zoom = Vector2(3, 3)
tween_resource = SubResource("Resource_d1mwp")
tween_on_load = false
follow_damping = true
follow_damping_value = Vector2(0.3, 0.1)
dead_zone_width = 0.134
dead_zone_height = 0.301
draw_limits = true
limit_left = -30
limit_top = -1220
limit_right = 2315
limit_bottom = -30
limit_target = NodePath("../../TilemapLayers/PlatformLayer")
limit_margin = Vector4i(15, 25, 15, 345)
metadata/_custom_type_script = "uid://bhexx6mj1xv3q"

[node name="ZoomOutCamera" type="Node2D" parent="Cameras" node_paths=PackedStringArray("follow_target")]
top_level = true
position = Vector2(52, -85)
script = ExtResource("9_jywle")
follow_mode = 5
follow_target = NodePath("../../Player")
zoom = Vector2(0.53, 0.53)
tween_resource = SubResource("Resource_d1mwp")
tween_on_load = false
follow_damping = true
follow_damping_value = Vector2(0.3, 0.1)
dead_zone_width = 0.134
dead_zone_height = 0.301
draw_limits = true
limit_margin = Vector4i(15, 15, 15, 30)
metadata/_custom_type_script = "uid://bhexx6mj1xv3q"

[node name="IdleCamera" type="Node2D" parent="Cameras" node_paths=PackedStringArray("follow_target")]
top_level = true
position = Vector2(52, -106.525)
script = ExtResource("9_jywle")
follow_mode = 5
follow_target = NodePath("../../Player")
zoom = Vector2(9.88, 9.88)
tween_resource = SubResource("Resource_rqhku")
tween_on_load = false
follow_offset = Vector2(0, -21.525)
follow_damping = true
follow_damping_value = Vector2(0.3, 0.1)
dead_zone_width = 0.134
dead_zone_height = 0.25
draw_limits = true
limit_left = -30
limit_top = -1220
limit_right = 2315
limit_bottom = -30
limit_target = NodePath("../../TilemapLayers/PlatformLayer")
limit_margin = Vector4i(15, 25, 15, 345)
metadata/_custom_type_script = "uid://bhexx6mj1xv3q"

[node name="NextLevelTransition" type="Area2D" parent="."]
top_level = true
position = Vector2(81, -1362)
collision_layer = 64
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="NextLevelTransition"]
shape = SubResource("RectangleShape2D_rqhku")

[node name="PreviousLevelTransition" type="Area2D" parent="."]
top_level = true
position = Vector2(48, 361)
collision_layer = 64
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="PreviousLevelTransition"]
shape = SubResource("RectangleShape2D_rqhku")

[node name="Spawns" type="Node" parent="."]

[node name="NextSpawn" type="Node2D" parent="Spawns"]
position = Vector2(46, 237)

[node name="PreviousSpawn" type="Node2D" parent="Spawns"]
position = Vector2(809, -95)

[node name="DeathSpawn" type="Node2D" parent="Spawns"]
position = Vector2(-19, -38)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GameMenu" parent="CanvasLayer" instance=ExtResource("11_b2fon")]

[node name="Collectibles" type="Node" parent="."]

[node name="Flower1" parent="Collectibles" instance=ExtResource("12_o7bax")]
position = Vector2(-164, -26)
